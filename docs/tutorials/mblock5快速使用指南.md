# 程小奔+mblock5快速使用指南

![codey](image/1.png)

>文档版本：v1.1
>
>日期：2018/2/2
>
>作者：Breloom
>
>适用软件及版本：mblock5 Alpha.8


## 写在前面的话

致程小奔的支持者们，感谢您对程小奔众筹项目的支持。目前程小奔支持的软件版本为mblock5 Alpha.8，该版本为公测版本，在正式版发布之前，我们会持续地对软件进行优化。在使用程小奔和mblock5的过程中如有任何疑问请加qq群591221475，我们会为您提供帮助。

Alpha.8版本增加了很多特性和功能，该文档以小项目的形式介绍mblock5的基本功能，希望这些项目能够给大家带来启发和灵感，帮助大家创作自己的项目。

## 软件下载

![codey](image/2.png)

请登陆以下链接下载最新版本的软件：

http://www.mblock.cc/zh-home/software/mblock/mblock5/

## 软件界面与名词解释

![codey](image/3.png)

左边为积木区，中间为脚本区，右边为舞台区。

* 积木区: 提供编程所需的积木，可以按照分类及颜色查找需要的积木。
* 脚本区: 程序的编写区域，可以用将积木拖放到这个区域来编写程序。
* 舞台区: 除了呈现作品之外，设备的连接与上传，添加角色与背景等功能都在这个区域进行。

## 示例程序

![codey](image/4.png)
![codey](image/5.png)

Alpha.8版本新增了12个示例程序，该文档使用的部分项目可以在示例程序中找到。


## 连接设备

在小程开机的状态下，使用USB数据线或蓝牙适配器与电脑连接.

1. 打开mblock软件，点击“请连接设备”

![codey](image/6.png)

2. 点击“连接”

![codey](image/7.png)

注：“COM3”为串口序号，不同系统及电脑会有所不同。直接点击“连接”即可


## 1、开始第一个项目——用按钮切换表情 ***（入门）***

1. 将按钮事件的积木拖到脚本区。

![codey](image/8.png)

2. 添加声音积木，选择音效。

![codey](image/9.png)

3. 点击“上传到设备“。

![codey](image/10.png)

按下小程上的“按钮A”，小程就会发出声音。

4. 添加图案积木，选择一个默认图案，也可以使用鼠标绘制自己喜欢的图案。

![codey](image/11.png)

![codey](image/12.png)

5. 绘制更多表情，用按钮A，B，C来控制吧！

![codey](image/13.png)

> 小技巧：在积木上点击右键可以复制脚本；在脚本区的空白处点击右键，可以整理所有积木。

![codey](image/14.png)
![codey](image/15.png)

6. 将程序上传至设备中，保存你的程序。

![codey](image/16.png)

7. 最后一步，将作品展示给身边的人~

## 2.创作动画——摇晃弹力球 ***（入门）***

这个项目将会告诉你如何使用小程来创作动画，还可以使用有趣的方式来触发它：

1. 该项目建议使用以下积木：

![codey](image/17.png)

2. 在新建项目中绘制一颗软软的球，让它看起来有一种趴在地上的感觉。

![codey](image/18.png)

3. 继续绘制它弹起来的样子，和刚才的积木组合在一起，并将时间设定为0.3秒。

![codey](image/19.png)

![codey](image/20.png)

4. 继续完善这组图案，画出弹力球从弹起到落地的整个过程。

![codey](image/21.png)

5. 添加声音与触发事件。

![codey](image/22.png)

6. 上传程序，摇晃小程，看看发生了什么。

你可以将小程挂在身上，当你跳起的时候，弹力球也会跟着跳起来.

> 小技巧：
> 1. 可以使用不同的事件来触发动画，
> 2. 可以通过改变持续时间来调整动画播放的速度。

## 3.并行执行——警报 ***（入门）***

将积木组合起来就形成了脚本。***小程最多可以同时执行六个脚本***。

该程序包含了两个脚本，一个脚本让小程循环播放声音，一个脚本控制小程在循环闪烁灯光：

![codey](image/23.png)

> 小技巧: 再增加一个脚本就可以使用齿轮电位器来调节小程的音量。
>
> ![codey](image/24.png)

> 注：齿轮电位器在小程的侧面。
>
> ![codey](image/25.png)

## 4.图案坐标 ***（中级）***

1. 该项目建议使用以下积木。

![codey](image/26.png)

该积木可以让图案在指定的坐标上显示，坐标以图案左上角的位置为准。

![codey](image/27.png)

> 小技巧：点开图案编辑器的 “![codey](image/28.png) ” 图案即可显示坐标。

2. 尝试以下脚本，查看程序效果。

![codey](image/29.png)

## 5.变量与坐标——奔跑的兔子 ***（高级）***

感谢Ekime绘制的兔子图案，与文档作者共同完成了这一项目。

使用变量的功能可以让图案做出移动的效果:

1. 创建变量。

![codey](image/30.png)

mblock5的变量名只支持拉丁字母，不支持汉字，可以使用英文或汉语拼音来为变量命名。

![codey](image/31.png)	
![codey](image/32.png)		

2. 使用以下积木绘制一只小兔子。

![codey](image/33.png)

![codey](image/34.png)

3. 将变量设置为图案的x坐标。

![codey](image/35.png)

4. 增加一个用按键改变变量的脚本，观察图案位置的变化，当变量超过一定数值时，小兔子会从移动到屏幕外。

![codey](image/36.png)

5. 完善脚本，通过图案的切换和坐标的改变让小兔子跑起来。

![codey](image/37.png)
![codey](image/38.png)

![codey](image/39.png)

> 小技巧：复制图案积木并修改的方式可以比较方便地制作动画。

## 6.显示传感器的值 ***（中级）***

小程包含多个传感器，它们可以让小程检测周围环境的变化，包括检测响度，光线，姿态等，这里提供两种方式来获取传感器的数值：

1. 在设备连接的状态下，勾选想要获取的数值，将数值显示在舞台上

![codey](image/40.png)	
![codey](image/41.png)	

2. 也可以使用以下脚本，将传感器的数值显示在小程的屏幕上

![codey](image/42.png) 
![codey](image/43.png) 

3. 将上一个程序上传到设备中，对小程发出声音，查看舞台和屏幕上数值的变化吧

> 小技巧：在重复执行中加入等待积木，可以让屏幕显示数值的变化慢一些
> 
> ![codey](image/44.png)   

## 7.响度指示计 ***（中级）***

使用图案坐标和声音传感器完成的小项目，可以将响度以动态的形式显示在小程的屏幕上:

1. 连接设备，勾选响度积木，查看当前环境的响度（不同环境下数值会有所不同）。

![codey](image/45.png)
 ![codey](image/46.png)       

2. 使用以下积木，绘制一个简单的图案。

![codey](image/47.png) 

![codey](image/48.png) 


3. 使用运算分类中的四则运算积木来对响度的数值进行计算。
			
![codey](image/49.png) 

![codey](image/50.png) 

4. 完成程序并上传，尝试对小程发出喊叫，查看效果。

![codey](image/51.png) 

> 小技巧：可以一边观察响度的变化一边使用乘法积木来对数值进行调整。
>
>![codey](image/52.png) 

## 8.躲避障碍物 ***（高级）***

该项目使用程小奔及其传感器，程小奔包含一个可以向前及向下拨动的颜色红外传感器，该项目需要将颜色红外传感器拨到前方，用来检测程小奔前方的障碍物。

![codey](image/53.png) 

该传感器使用的积木会有传感器标识。

![codey](image/54.png) 

1. 该项目使用以下积木

> 说明：在颜色红外传感器的前方有障碍物时该积木的结果为真（true）,没有障碍物时结果为假（false）

![codey](image/55.png) 

左为红外线接收，右为红外线发射

>注：检测障碍物的原理为红外线反射，因此在检测障碍物时，颜色越浅的物体距离越长，颜色越深的物体距离越短

2. 完成以下程序，将障碍物防止在程小奔面前，观察表情变化

![codey](image/56.png) 

3. 补全程序，让程小奔在没有障碍物时前进，有障碍物时直行

![codey](image/57.png) 

## 9.与舞台角色互动——使用广播演奏乐器 ***（中级）***

使用广播的功能可以让小程与舞台角色通讯，完成舞台互动作品:

![codey](image/58.png) 

1. 创建新消息，让小程按下按钮A时发送广播“A”。

![codey](image/59.png) 

![codey](image/60.png) 
![codey](image/61.png) 

2. 添加角色，新增的角色会出现在舞台区。

![codey](image/62.png) 

![codey](image/63.png) 

![codey](image/64.png) 

3. 点击新角色drum(鼓)，为角色drum编写程序。

![codey](image/65.png) 

![codey](image/66.png) 


4. 点击小程，将小程的程序上传到设备，按下A键后角色drum就会通过电脑发出鼓声。

![codey](image/67.png) 
![codey](image/68.png) 

5. 用同样的方法添加更多乐器的角色，为Panda开一场演唱会吧！

![codey](image/69.png) 

## 10.通讯变量与齿轮电位器 ***（高级）***

除了使用广播之外，也可以使用通讯变量让小程与舞台互动。

该项目可以通过小程的齿轮电位器来控制角色的大小：

1. 创建通讯变量。

![codey](image/70.png) 

![codey](image/71.png) 

2. 将通讯变量设置为齿轮电位器的值。

![codey](image/72.png) 

3. 点击Panda角色，在数据区域同样出现了通讯变量Ｐ。

![codey](image/73.png) 

4. 将角色大小设置为通讯变量P。

![codey](image/74.png) 

5. 将小程的程序上传到设备，并点击绿旗，拨动齿轮电位器，观察角色的变化。

![codey](image/75.png) 


## 交流与分享

欢迎大家登陆程小奔官方论坛分享自己的作品，交流产品使用技巧：

http://bbs.makeblock.com/forum-95-1.html
